//ヘッダファイルをインクルード
#include "p30f4012.h"
//********************************************************************
//コンフィギュレーション・ワードの設定

	_FOSC(FRC & CSW_FSCM_OFF & FRC_PLL16);		//内部クロック８Mhz使用でPLL16で96MHz
	_FWDT(WDT_OFF);
	_FBORPOR(PBOR_OFF & PWRT_64 & MCLR_EN);
	_FGS(CODE_PROT_OFF);



//********************************************************************
//メイン関数

int main(void)
{

//===================================================================
//変数を定義

	char a=0;
	int i=0;
	int j=0;
	int k=0;

	//===================================================================
	//入出力ポートの設定、初期化

	TRISB = 0x00;
	TRISE = 0x00;
	PORTB = 0x00;
	PORTE = 0x00;  

//===================================================================

	while(1)
	{

		a = 0x01; 

		for(k=0;k<5;k++)
		{

			//ポートBに出力
			PORTB = a;

			//=================================================================
			//時間稼ぎのためにfor文で回します。
			for(i = 0;i<10000;i++)
				{
					for(j=0;j<10;j++){}
				}
				//=================================================================

				//１つシフト
				a = a<<1; 
		}

		//なぜかポートBは６bitしかないので、ポートEも使います。
		PORTB = 0x00;
		PORTE = 0x01;

		//=================================================================
		//例のごとく、時間稼ぎ。
		for(i = 0;i<10000;i++)
		{
			
			for(j=0;j<10;j++){}
		
		}
		//=================================================================



		PORTE = 0x02;

		//=================================================================
		//時間稼ぎ
		for(i = 0;i<10000;i++)
		{
			for(j=0;j<10;j++){}
		}
		//=================================================================

		//消しとく。
		PORTE = 0x00;

	}
}
